# 利用人體姿勢辨識技術建構運動復健輔助系統

本系統為一套復健輔助平台，結合攝影機串流、動作角度判斷、使用者資料記錄與分析，幫助復健者或年長者進行復健訓練，並可記錄每日動作表現與進度。
 
📷 即時攝影鏡頭串流

🏃‍♂️ 訓練模式（雙手平舉 / 抬腿 / 自訂動作 / 復健模式）

🔢 自動統計每日復健次數與角度最大值

📊 模式熱度圖、角度變化圖、次數折線圖

👤 用戶註冊、登入與資料紀錄

📁 圖片與影片處理分析

[![觀看影片示範](https://img.youtube.com/vi/xxzxte7LMyA/0.jpg)](https://www.youtube.com/watch?v=xxzxte7LMyA)
---

## 📌 功能介紹

### ✅ 使用者系統
- 使用者註冊 / 登入 / 登出
- 使用者個人資料管理

### ✅ 復健訓練功能
- 透過攝影機擷取即時影像
- 使用 OpenCV / Mediapipe 擷取身體角度
- 設定復健動作目標角度
- 自動計算動作達成次數與最大角度

### ✅ 活動紀錄與分析
- 記錄每次復健活動時間、模式、角度與次數
- 支援每日/每月分析圖表
- 查詢不同動作的歷史角度變化

### ✅ 媒體處理
- 上傳圖像與影片
- 對上傳圖片與影片執行動作分析
- 只處理有效格式（如 mp4、jpg、png 等）

---

## 🧾 安裝與執行方式

### 1️⃣ 安裝必要套件
參考https://github.com/yo-tong/Developing-Exercise-Programs-with-Human-Pose-Recognition-Using-MediaPipe/tree/main/%E7%92%B0%E5%A2%83%E5%AE%89%E8%A3%9D

### 2️⃣  資料庫設定
請建立一個 MySQL 資料庫，並執行初始化 SQL 檔（如有提供）建立下列表格：

- users：用戶資料

- user_activity：每次復健紀錄（時間、模式、角度、次數）

- actions_activity：每個動作的角度記錄

- action_settings：用戶設定的角度與方向門檻

### 3️⃣  執行主程式
```bash
python app.py
```
然後開啟瀏覽器進入：http://localhost:5000
## 🗂️ 專案結構
```
📁 your_project/
├── app.py                  # 主 Flask 應用
├── static/                 # 靜態資源（圖片、CSS、影片）
├── templates/              # HTML 模板
├── test_image/             # 圖片 
├── test_video/             # 影片 
├── 環境安裝/                # 環境設置
│   ├── environment.yml     # 套件清單
└── README.md               # 使用說明
```
# 🧠 使用技術

| 技術       | 說明                             |
|------------|----------------------------------|
| Flask      | Python Web 框架，用於後端邏輯與路由控制 |
| OpenCV     | 攝影機串流與影像處理             |
| Mediapipe  | 人體關節偵測與角度分析           |
| MySQL      | 資料儲存與查詢                   |
| JavaScript | 前端倒數計時、即時資料互動       |
| Bootstrap  | 響應式網頁設計 UI 框架           |
| Markdown   | 文件撰寫與格式化語法             |

> 🔎 **建議使用 Chrome 或 Firefox 瀏覽器** 以獲得最佳體驗與相容性（特別是即時串流與圖表互動功能）。
 
## 📷 復健動作偵測流程
- 使用者開啟攝影機

- 系統開始擷取角度，根據預設或設定的目標角度計分

- 60 秒自動結束或手動停止

- 將最大角度、動作次數記錄進資料庫

## ⚠️ 注意事項
- 使用前請確保攝影機設備可正常運作

- 建議使用 Chrome 或 Firefox 瀏覽器以獲得最佳效果

- 資料庫連線請確保使用者、密碼、權限設定正確

- 若影片無法播放，請確認影片格式或檔名是否正確

## 🙋‍♀️ 聯絡方式
如有報錯建議，請聯絡：

📧 tel147258@gmail.com
